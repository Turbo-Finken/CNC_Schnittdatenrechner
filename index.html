<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CNC Masterclass 2026 | Takacs + Partner AG</title>
    <style>
        :root {
            --primary: #ff4757;
            --accent: #2ed573;
            --bg: #0f172a;
            --glass: rgba(30, 41, 59, 0.85);
            --border: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Inter', system-ui, sans-serif;
            background: radial-gradient(circle at top right, #1e293b, #070b14);
            color: #f8fafc;
            margin: 0; padding: 20px;
            display: flex; justify-content: center; min-height: 100vh;
        }

        .app-container {
            width: 100%; max-width: 650px;
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 32px;
            border: 1px solid var(--border);
            box-shadow: 0 40px 100px rgba(0,0,0,0.6);
            overflow: hidden;
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .header {
            padding: 30px; background: rgba(255,255,255,0.03);
            display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--border);
        }

        .help-trigger {
            background: var(--primary); color: white; border: none;
            width: 50px; height: 50px; border-radius: 16px;
            font-weight: bold; cursor: pointer; transition: 0.3s;
            box-shadow: 0 8px 20px rgba(255, 71, 87, 0.3);
        }

        .help-trigger:hover { transform: scale(1.1) rotate(5deg); background: var(--accent); }

        .main-content { padding: 30px; }

        .input-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }

        .input-group { margin-bottom: 20px; }
        .full-width { grid-column: span 2; }

        label { display: block; font-size: 0.8rem; color: #94a3b8; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px; font-weight: 700; }

        select, input {
            width: 100%; padding: 16px; background: #0f172a;
            border: 2px solid transparent; border-radius: 16px;
            color: white; font-size: 1rem; transition: 0.3s; box-sizing: border-box;
        }

        select:focus, input:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 15px rgba(255, 71, 87, 0.2); }

        .calc-btn {
            width: 100%; padding: 22px; background: var(--primary);
            color: white; border: none; border-radius: 20px;
            font-size: 1.2rem; font-weight: 900; cursor: pointer;
            transition: 0.4s; margin-top: 10px; text-transform: uppercase;
        }

        .calc-btn:hover { background: var(--accent); transform: translateY(-3px); box-shadow: 0 15px 30px rgba(46, 213, 115, 0.3); }

        .result-box {
            margin-top: 30px; display: none;
            background: rgba(46, 213, 115, 0.05); border: 1px solid var(--accent);
            border-radius: 24px; padding: 25px;
            animation: slideIn 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28);
        }

        @keyframes slideIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

        .res-item { display: flex; justify-content: space-between; margin-bottom: 15px; font-size: 1.1rem; border-bottom: 1px solid rgba(255,255,255,0.05); padding-bottom: 10px; }
        .res-val { color: var(--accent); font-weight: 800; font-family: 'Courier New', monospace; }
        .res-highlight { background: rgba(255, 71, 87, 0.1); padding: 15px; border-radius: 15px; border-left: 5px solid var(--primary); }

        /* MODAL TUTORIAL */
        .modal {
            display: none; position: fixed; inset: 0;
            background: rgba(7, 11, 20, 0.98); z-index: 2000;
            overflow-y: auto; padding: 20px;
        }

        .modal-content { max-width: 600px; margin: auto; padding-bottom: 50px; }
        .tut-section { background: #1e293b; border-radius: 24px; padding: 25px; margin-bottom: 25px; border: 1px solid var(--border); }
        .tut-svg { width: 100%; height: auto; border-radius: 16px; margin: 15px 0; background: #fff; padding: 10px; box-sizing: border-box; }
        .tut-tag { background: var(--primary); color: white; padding: 4px 10px; border-radius: 8px; font-size: 0.7rem; font-weight: 900; }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <div>
            <div style="color: var(--primary); font-weight: 900; font-size: 0.75rem; letter-spacing: 2px;">TAKACS + PARTNER AG</div>
            <h1 style="margin: 0; font-size: 1.6rem; font-weight: 800;">CNC Master Pro 2026</h1>
        </div>
        <button class="help-trigger" onclick="toggleModal()">HELP</button>
    </div>

    <div class="main-content">
        <div class="input-group full-width">
            <label>1. Werkzeug Auswahl</label>
            <select id="tool" onchange="loadTool()">
                <optgroup label="VHM (Vollhartmetall)">
                    <option value="vhm_6">VHM Schaftfräser Ø6 (3Z)</option>
                    <option value="vhm_10">VHM Schaftfräser Ø10 (4Z)</option>
                    <option value="vhm_schrupp">VHM Schruppfräser Ø12 (4Z)</option>
                </optgroup>
                <optgroup label="Spezial & Holz">
                    <option value="alu_10">Alu/Holz Einschneider Ø10 (1Z)</option>
                    <option value="saw_250">Kreissägeblatt Ø250 (48Z)</option>
                    <option value="plan_40">Planfräser Ø40 (5Z)</option>
                </optgroup>
                <optgroup label="Bohren">
                    <option value="drill_8">HSS Bohrer Ø8</option>
                    <option value="drill_vhm_10">VHM Hochleistungsbohrer Ø10</option>
                </optgroup>
            </select>
        </div>

        <div class="input-grid">
            <div class="input-group"><label>Schnittgeschw. (Vc)</label><input type="number" id="vc" value="120"></div>
            <div class="input-group"><label>Durchmesser Ø</label><input type="number" id="dia" value="6"></div>
            <div class="input-group"><label>Zähnezahl (Z)</label><input type="number" id="z" value="3"></div>
            <div class="input-group"><label>Zahnvorschub (fz)</label><input type="number" id="fz" step="0.001" value="0.04"></div>
            <div class="input-group"><label>Gesamttiefe (mm)</label><input type="number" id="tdepth" value="10"></div>
            <div class="input-group"><label>Zustellung (ap)</label><input type="number" id="ap" value="2"></div>
        </div>

        <button class="calc-btn" onclick="calculate()">Berechnung Starten</button>

        <div class="result-box" id="results">
            <div class="res-item res-highlight">
                <span style="color:var(--text); font-weight:700;">Optimale Drehzahl (n):</span>
                <span id="res-n" class="res-val" style="color:var(--primary); font-size: 1.4rem;">-</span>
            </div>
            <div class="res-item"><span>Vorschub (Vf):</span><span id="res-vf" class="res-val">-</span></div>
            <div class="res-item"><span>Anzahl Durchgänge:</span><span id="res-steps" class="res-val">-</span></div>
            <div class="res-item" style="border:none;"><span>Info:</span><span id="res-info" style="color:#94a3b8; font-size:0.9rem;">-</span></div>
        </div>
    </div>
</div>

<div id="helpModal" class="modal">
    <div class="modal-content">
        <h1 style="color: var(--primary); text-align: center; font-size: 2rem;">CNC Master Guide 2026</h1>
        
        <div class="tut-section">
            <span class="tut-tag">BASICS</span>
            <h3>1. Die Spindeldrehzahl (n)</h3>
            <p>Die Drehzahl ist das Herzstück. Sie berechnet sich aus dem Werkzeug-Ø und der Schnittgeschwindigkeit (Vc) des Materials.</p>
            <p><strong>Die Regel:</strong> Kleiner Fräser = Hohe Drehzahl. Großer Fräser = Niedrige Drehzahl.</p>
            <svg viewBox="0 0 400 150" class="tut-svg">
                <circle cx="200" cy="75" r="45" fill="none" stroke="#ff4757" stroke-width="4" stroke-dasharray="10 5"/>
                <path d="M260 75 A60 60 0 0 1 200 135" fill="none" stroke="#2ed573" stroke-width="4" marker-end="url(#arrow)"/>
                <text x="160" y="80" font-weight="bold" fill="#0f172a" font-size="14">Werkzeug Ø</text>
                <text x="260" y="110" font-weight="bold" fill="#2ed573" font-size="14">Drehzahl (n)</text>
                <defs><marker id="arrow" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto"><path d="M0,0 L10,5 L0,10 Z" fill="#2ed573"/></marker></defs>
            </svg>
        </div>

        <div class="tut-section">
            <span class="tut-tag">EFFIZIENZ</span>
            <h3>2. Vorschub & Zähne (Vf)</h3>
            <p>Der Vorschub (Vf) sagt der Maschine, wie schnell sie durch das Material fahren soll. Er ergibt sich aus der Drehzahl mal der Zähne mal dem Zahnvorschub (fz).</p>
        </div>

        <div class="tut-section">
            <span class="tut-tag">WERKZEUG-SCHUTZ</span>
            <h3>3. Abtrag & Zustellung (ap)</h3>
            <p>Man fräst Material meistens in mehreren Schichten ab. <strong>ap</strong> ist die Tiefe einer einzelnen Schicht. Das Tool berechnet dir, wie viele Schichten (Durchgänge) nötig sind.</p>
            <svg viewBox="0 0 400 120" class="tut-svg">
                <rect x="50" y="70" width="300" height="40" fill="#cbd5e1"/>
                <rect x="180" y="20" width="40" height="70" fill="#ff4757"/>
                <line x1="230" y1="70" x2="230" y2="90" stroke="black" stroke-width="3" marker-end="url(#arrowB)"/>
                <text x="240" y="85" font-weight="bold" fill="#0f172a">ap (Zustellung)</text>
                <defs><marker id="arrowB" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto"><path d="M0,0 L10,5 L0,10 Z" fill="black"/></marker></defs>
            </svg>
        </div>

        <button class="calc-btn" onclick="toggleModal()" style="background: #475569;">ZURÜCK ZUM RECHNER</button>
    </div>
</div>

<script>
    const database = {
        "vhm_6": { vc: 150, dia: 6, z: 3, fz: 0.04, ap: 3 },
        "vhm_10": { vc: 160, dia: 10, z: 4, fz: 0.06, ap: 5 },
        "vhm_schrupp": { vc: 120, dia: 12, z: 4, fz: 0.1, ap: 8 },
        "alu_10": { vc: 450, dia: 10, z: 1, fz: 0.12, ap: 5 },
        "saw_250": { vc: 3200, dia: 250, z: 48, fz: 0.05, ap: 50 },
        "plan_40": { vc: 250, dia: 40, z: 5, fz: 0.15, ap: 1.5 },
        "drill_8": { vc: 30, dia: 8, z: 2, fz: 0.1, ap: 8 },
        "drill_vhm_10": { vc: 100, dia: 10, z: 2, fz: 0.2, ap: 10 }
    };

    function toggleModal() {
        const m = document.getElementById('helpModal');
        m.style.display = (m.style.display === "block") ? "none" : "block";
    }

    function loadTool() {
        const val = document.getElementById('tool').value;
        const t = database[val];
        document.getElementById('vc').value = t.vc;
        document.getElementById('dia').value = t.dia;
        document.getElementById('z').value = t.z;
        document.getElementById('fz').value = t.fz;
        document.getElementById('ap').value = t.ap;
    }

    function calculate() {
        const vc = parseFloat(document.getElementById('vc').value);
        const d = parseFloat(document.getElementById('dia').value);
        const z = parseFloat(document.getElementById('z').value);
        const fz = parseFloat(document.getElementById('fz').value);
        const tdepth = parseFloat(document.getElementById('tdepth').value);
        const ap = parseFloat(document.getElementById('ap').value);

        const n = (vc * 1000) / (Math.PI * d);
        const vf = n * fz * z;
        const steps = Math.ceil(tdepth / ap);

        document.getElementById('res-n').innerText = Math.round(n).toLocaleString() + " U/min";
        document.getElementById('res-vf').innerText = Math.round(vf).toLocaleString() + " mm/min";
        document.getElementById('res-steps').innerText = steps + " Durchgänge";
        document.getElementById('res-info').innerText = "Berechnet für " + vc + " m/min Schnittgeschwindigkeit.";

        document.getElementById('results').style.display = "block";
    }
</script>
</body>
</html>
